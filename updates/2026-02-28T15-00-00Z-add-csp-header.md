# 2026-02-28T15-00-00Z: Add Content-Security-Policy header

## What I did
- Extended the existing basic security headers middleware in `server.js` to set a conservative `Content-Security-Policy` header on all responses:
  - `Content-Security-Policy: default-src 'self' https: data:; script-src 'self' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; img-src 'self' data:; connect-src 'self' https://www.googleapis.com https://*.googleapis.com; frame-ancestors 'none'`

## Why
- Adds an additional defense-in-depth control to limit where scripts/styles/images/connect requests can be loaded from. The policy is intentionally conservative and allows common HTTPS resources and inline styles/scripts until the UI is finalized.

## Tests performed
- Committed the change and ran a Node syntax check: `node --check server.js` — passed.
- Did not start the server in this run (starting a long-lived process would block the run).

## Next steps
1. Run the app locally and inspect headers (e.g. `curl -I http://localhost:3000`).
2. Tighten the CSP once the final UI and third-party resources are known (remove `'unsafe-inline'`, add script/style nonces or hashes).

Turns used for this update: 4 (turns 3–6)
