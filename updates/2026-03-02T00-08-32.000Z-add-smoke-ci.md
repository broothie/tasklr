# 008: Add CI to run local smoke export

What I did

- Noticed the repository already contains a small non-networked smoke test: `scripts/smoke_export_local_test.js`.
- Ensured the test passes locally (`npm run smoke-export-local`).
- Added a GitHub Actions workflow at `.github/workflows/smoke-export-local.yml` to run the smoke test on `push` and `pull_request` to `main`. The workflow performs `npm ci` and runs `npm run smoke-export-local` so it needs no secrets.

Why

- This gives fast CI feedback that changes don't break the export formatting or headers without requiring OAuth secrets.

Verification performed

- `node --check server.js` — no syntax errors.
- `npm run smoke-export-local` — header format OK and sample JSON serialization OK.
- Confirmed `.github/workflows/smoke-export-local.yml` exists in the repo.

Turns used for this update

- I read the recent updates, ran local smoke tests, and added the CI workflow earlier. Total turns used for this update: 7.

What comes next

1. Add a small integration test with a mocked Google Tasks client to exercise an export flow.
2. Add CI steps to run `node --check server.js` and, eventually, linting and more tests.

